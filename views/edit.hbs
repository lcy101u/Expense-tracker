<div class="row">
  <div class="col-md-5 col-8 m-auto">
    <div class="card card-body">
      <form
        method="POST"
        action="/records/{{currentRecord._id}}?_method=PUT"
        id="expense-form"
      >

        <h4
          class="text-center mb-3"
          style="font-size: 1.25rem;"
        >請修改你的支出(*必填欄位)</h4>

        <div class="form-group">
          <label for="name" class="">名稱*：</label>
          <input
            type="text"
            name="name"
            id="name"
            class="form-control"
            required
            value="{{currentRecord.name}}"
          />
          <div class="valid-feedback">輸入正確</div>
          <div class="invalid-feedback">請輸入支出名稱</div>
        </div>
        <div class="form-group">
          <label for="date">日期*：</label>
          <input
            type="date"
            name="date"
            id="date"
            class="form-control"
            required
            value="{{currentRecord.date}}"
          />
        </div>
        <div class="form-group">
          <label for="category">類別*：</label>
          <select name="categoryId" id="category" class="form-select" required>
            {{#if currentRecord}}
            <option selected>{{ currentRecord.categoryId.name }}</option>
            {{else}}
            <option selected>類別</option>
            {{/if}}
            {{#each categoryArray}}
              <option value="{{this._id}}">{{this.name}}</option>
            {{/each}}
          </select>
          <div class="valid-feedback">輸入正確</div>
          <div class="invalid-feedback">請輸入類別</div>
        </div>
        <div class="form-group">
          <label for="amount">金額(台幣)*：</label>
          <input
            type="text"
            name="amount"
            id="amount"
            class="form-control"
            required
            pattern="^[0-9]*$"
            value="{{currentRecord.amount}}"
          />
          <div class="valid-feedback">輸入正確</div>
          <div class="invalid-feedback">請輸入數字來代表金額</div>
        </div>

        <div class="d-grid gap-2 mt-3">
          <button
            type="submit"
            class="btn btn-primary"
          >提交支出</button>
        </div>
      </div>
    </form>
  </div>
</div>